import logging
from multiprocessing.connection import Client

logging.basicConfig()
logger = logging.getLogger()
logger.setLevel(logging.DEBUG)

description = ''
spec = '(exit the arena|leave the arena|follow ((the|a) person|(the|a) person in the (workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(anna|beth|carmen|jennifer|jessica|kimberly|kristina|laura|mary|sarah|alfred|charles|daniel|james|john|luis|paul|richard|robert|steve)|(anna|beth|carmen|jennifer|jessica|kimberly|kristina|laura|mary|sarah|alfred|charles|daniel|james|john|luis|paul|richard|robert|steve) in the (workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|him|her|them)|(grab|grasp|pick up|take|get) (it|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush)|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|(the|a) (food|tool|drink|bowl|leisure|decoration|tray)|(the|a) (food|tool|drink|bowl|leisure|decoration|tray) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table)))|(put|place) (it|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush)|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|(the|a) (food|tool|drink|bowl|leisure|decoration|tray)|(the|a) (food|tool|drink|bowl|leisure|decoration|tray) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))) on the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|(put|place) (it|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush)|(the|a) (muesli_cereals|apple|deodorant|cranberry_cereals|bubblemint|chocolate_cereals|ice-tea|candle|noodles|chocosticks|twine|lemon|cup|filler|peanut|bowl|oblates|bubblegum|beer|tape|fanta|pringles|fresh_milk|coffee|coke|wd40|coffeepads|meadow_milk|tray|cigarettes|red_bull|mints|mandarine|brush) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|(the|a) (food|tool|drink|bowl|leisure|decoration|tray)|(the|a) (food|tool|drink|bowl|leisure|decoration|tray) (from|on|which is on) the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))) in the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|(move to|go to|drive to|navigate to|come to|come back to|get into|reach) ((the ((workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(couch_table|dinner_table|bar|bocase|cabinet|trashbin|plant|bed|nightstand|flight_case|battery_table|workbench|hallway_table))|((the|a) person|(the|a) person in the (workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|(anna|beth|carmen|jennifer|jessica|kimberly|kristina|laura|mary|sarah|alfred|charles|daniel|james|john|luis|paul|richard|robert|steve)|(anna|beth|carmen|jennifer|jessica|kimberly|kristina|laura|mary|sarah|alfred|charles|daniel|james|john|luis|paul|richard|robert|steve) in the (workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit)|him|her|them)|me)|the (workshop|hallway|bedroom|livingroom|kitchen|workshop|entrance|exit))|answer a question|answer the question|answer his question|answer her question)'
choices = {}


address = ('localhost', 8000)
logger.info('making a client')
conn = Client(address)

logger.info('sending...')
conn.send(['set', description, spec, choices])

logger.info('waiting for result')
msg = conn.recv()

logger.info('received result: %s', msg)
conn.close()
